{"version":3,"sources":["../../src/pages/notification/notification.module.ts","../../src/pages/notification/notification.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { MomentModule } from 'ngx-moment';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NotificationPage } from './notification';\n\n@NgModule({\n  declarations: [\n    NotificationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NotificationPage),\n    MomentModule\n  ],\n})\nexport class NotificationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.module.ts","import { FirebaseAnalytics } from '@ionic-native/firebase-analytics';\nimport { UserProvider } from './../../providers/user/user';\nimport { ConstantsProvider } from './../../providers/constants/constants';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\n\n/**\n * Generated class for the NotificationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-notification',\n  templateUrl: 'notification.html',\n})\nexport class NotificationPage {\n\n  isLoaded = false;\n  pageNum = 1;\n\n  notifications = [];\n\n  constructor(public navCtrl: NavController,\n    public constants: ConstantsProvider,\n    public user: UserProvider,\n    public firebaseAnalytics: FirebaseAnalytics, public platform: Platform,\n    public navParams: NavParams) {\n\n  }\n\n  ionViewDidLoad() {\n    this.loadNotifications();\n    if (this.platform.is('cordova')) this.firebaseAnalytics.logEvent('page_view', { page: \"Notification Center\" })\n      .then((res: any) => console.log(res))\n      .catch((error: any) => console.error(error));\n    console.log('ionViewDidLoad NotificationPage');\n  }\n\n  loadNotifications(callback?) {\n    this.user.getNotification(this.pageNum, callback ? false : true).subscribe((resp: any) => {\n      console.log(resp);\n      this.isLoaded = true;\n      if (resp.result.data.length > 0) {\n        this.pageNum++;\n        this.notifications = this.notifications.concat(resp.result.data);\n      }\n      if (callback) callback();\n    }, (err) => {\n      console.log(err);\n      this.isLoaded = true;\n    })\n  }\n\n  loadMore(infiniteScroll) {\n    console.log('Begin async operation');\n    if (this.isLoaded) {\n      this.loadNotifications(() => {\n        infiniteScroll.complete();\n      });\n    } else {\n      console.log(\"Async operation has ended\");\n      infiniteScroll.complete();\n    }\n  }\n\n  actionNotification(notification) {\n    console.log(notification);\n    if (notification.courseId) {\n      this.user.handleNotification(notification.page, {courseId: notification.courseId, profileId: notification.profileId}, this.navCtrl);\n    } else {\n      this.user.handleNotification(notification.page, {profileId: notification.profileId}, this.navCtrl);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.ts"],"sourceRoot":""}