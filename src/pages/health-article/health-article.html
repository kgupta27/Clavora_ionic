<!--
  Generated template for the HealthArticlePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{constants.LANGS.PAGE_LABEL_HEALTH_ARTICLE}}</ion-title>
    <ion-buttons end>
      <button ion-button clear class="relative" [navPush]="constants.PAGES.NOTIFICATIONS">
        <img alt="" src="assets/imgs/health-article/bell.svg">
        <div *ngIf="notificationCounts>0" class="absolute absolute-top absolute-right count">{{notificationCounts}}</div>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-refresher [enabled]="!onScrollLoading" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingText="Pull to refresh" refreshingSpinner="circles" refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>
  <div class="no-data" *ngIf="isLoaded && articles.length==0">{{constants.LANGS.PAGE_LABEL_NO_ARTICLE}}</div>
  <div class="container" *ngIf="isLoaded && articles.length!=0">
    <div class="article" *ngFor="let article of articles" [navPush]="constants.PAGES.HEALTH_ARTICLE_DETAIL" [navParams]="article">
      <img alt="" class="article-img" [src]="article.image">
      <div class="icon-container" *ngIf="article.videoUrl != ''">
        <img alt="" src="assets/icon/play.svg">
      </div>
      <div class="title">{{article.title}}</div>
      <div class="subtitle">{{article.content}}</div>
      <div class="date">{{ article.createdAt | amDateFormat:'ll' }}</div>
    </div>
    <ion-infinite-scroll (ionInfinite)="loadMore($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>

</ion-content>
