{"version":3,"sources":["../../src/pages/health-article/health-article.module.ts","../../src/pages/health-article/health-article.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { MomentModule } from 'ngx-moment';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HealthArticlePage } from './health-article';\n\n@NgModule({\n  declarations: [\n    HealthArticlePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HealthArticlePage),\n    MomentModule\n  ],\n})\nexport class HealthArticlePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/health-article/health-article.module.ts","import { FirebaseAnalytics } from '@ionic-native/firebase-analytics';\nimport { UserProvider } from './../../providers/user/user';\nimport { ConstantsProvider } from './../../providers/constants/constants';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\n\n/**\n * Generated class for the HealthArticlePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-health-article',\n  templateUrl: 'health-article.html',\n})\nexport class HealthArticlePage {\n  isLoaded = false;\n  articles = [];\n  pageNum = 1;\n  notificationCounts = 0;\n  onScrollLoading;\n\n  constructor(public navCtrl: NavController,\n    public firebaseAnalytics: FirebaseAnalytics, public platform: Platform,\n    public constants: ConstantsProvider,\n    private user: UserProvider,\n    public navParams: NavParams) {\n  }\n\n\n  doRefresh(refresher) {\n    console.log('Begin async operation', refresher);\n    this.resetPage();\n    this.loadArticle(() => {\n      console.log('Async operation has ended');\n      refresher.complete();\n    });\n  }\n\n  ionViewWillEnter() {\n    console.log('ionViewDidLoad HealthArticlePage');\n    if (this.platform.is('cordova')) this.firebaseAnalytics.logEvent('page_view', { page: \"Health Article List\" })\n      .then((res: any) => console.log(res))\n      .catch((error: any) => console.error(error));\n    this.resetPage();\n    this.user.getNotificationCount().subscribe((resp: any) => {\n      console.log(resp);\n      this.notificationCounts = resp.result.count;\n      this.loadArticle();\n    }, (err) => {\n      console.log(err);\n    })\n    // this.loadArticle();\n  }\n\n  resetPage() {\n    this.pageNum = 1;\n    this.articles = [];\n    this.isLoaded = false;\n  }\n\n  loadArticle(callback?) {\n    this.user.getArticle(this.pageNum).subscribe((resp: any) => {\n      this.isLoaded = true;\n      if (resp.result.data.length > 0) {\n        this.pageNum++;\n        this.articles = this.articles.concat(resp.result.data);\n      }\n      if (callback) callback();\n    }, (err) => {\n      console.log(err);\n      this.isLoaded = true;\n    });\n  }\n\n\n  loadMore(infiniteScroll) {\n    console.log('Begin async operation');\n    if (this.isLoaded) {\n      this.onScrollLoading = true;\n      this.loadArticle(() => {\n        this.onScrollLoading = false;\n        infiniteScroll.complete();\n      });\n    } else {\n      console.log(\"Async operation has ended\");\n      infiniteScroll.complete();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/health-article/health-article.ts"],"sourceRoot":""}